const o={success:!1,error:"not-available"};async function r(){try{return typeof window<"u"&&window.indicators&&window.indicators.getInstalledIndicatorsVersion?await window.indicators.getInstalledIndicatorsVersion():null}catch(n){return console.warn("getInstalledVersion failed",n),null}}async function t(n){try{return typeof window<"u"&&window.indicators&&window.indicators.checkIndicatorsVersion?await window.indicators.checkIndicatorsVersion(n):{...o}}catch(i){return{success:!1,error:String(i&&i.message)}}}async function e(n){try{return typeof window<"u"&&window.indicators&&window.indicators.downloadIndicators?await window.indicators.downloadIndicators(n):{...o}}catch(i){return{success:!1,error:String(i&&i.message)}}}async function d(n){try{return typeof window<"u"&&window.indicators&&window.indicators.storeToken?await window.indicators.storeToken(n):!1}catch{return!1}}async function a(){try{return typeof window<"u"&&window.indicators&&window.indicators.getToken?await window.indicators.getToken():null}catch{return null}}async function w(){try{return typeof window<"u"&&window.indicators&&window.indicators.deleteToken?await window.indicators.deleteToken():!1}catch{return!1}}async function c(){try{return typeof window<"u"&&window.indicators&&window.indicators.listIndicatorFiles?await window.indicators.listIndicatorFiles():[]}catch{return[]}}async function s(n){try{return typeof window<"u"&&window.indicators&&window.indicators.readIndicatorFile?await window.indicators.readIndicatorFile(n):null}catch{return null}}function l(n){try{typeof window<"u"&&window.indicators&&window.indicators.onUpdated&&window.indicators.onUpdated(n)}catch{}}function f(n){try{typeof window<"u"&&window.indicators&&window.indicators.onDownloadStart&&window.indicators.onDownloadStart(n)}catch{}}function u(n){try{typeof window<"u"&&window.indicators&&window.indicators.onDownloadProgress&&window.indicators.onDownloadProgress(n)}catch{}}function y(n){try{typeof window<"u"&&window.indicators&&window.indicators.onDownloadComplete&&window.indicators.onDownloadComplete(n)}catch{}}const p={getInstalledVersion:r,checkRemoteVersion:t,downloadIndicators:e,storeToken:d,getToken:a,deleteToken:w,listIndicatorFiles:c,readIndicatorFile:s,onIndicatorsUpdated:l,onDownloadStart:f,onDownloadProgress:u,onDownloadComplete:y};export{t as checkRemoteVersion,p as default,w as deleteToken,e as downloadIndicators,r as getInstalledVersion,a as getToken,c as listIndicatorFiles,y as onDownloadComplete,u as onDownloadProgress,f as onDownloadStart,l as onIndicatorsUpdated,s as readIndicatorFile,d as storeToken};
